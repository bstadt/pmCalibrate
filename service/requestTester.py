import numpy as np
import json
import requests
import sys

if __name__ == '__main__':
    Qee =((0.504,-0.082,0.371,0.141,0.737,-0.124,0.649),
                    (0.511,-0.018,0.371,0.094,0.744,-0.083,0.656),
                    (0.485,-0.071,0.312,0.291,0.724,-0.302,0.547),
                    (0.490,-0.013,0.312,0.247,0.740,-0.269,0.564),
                    (0.262,0.014,0.333,0.304,0.470,-0.284,0.778),
                    (0.259,0.046,0.333,0.274,0.489,-0.234,0.795),
                    (0.251,0.078,0.333,0.242,0.505,-0.184,0.808),
                    (0.201,0.038,0.320,0.302,0.418,-0.276,0.811),
                    (0.185,0.087,0.320,0.247,0.452,-0.173,0.840),
                    (0.122,0.095,0.356,0.253,0.341,-0.148,0.893))

    QMarker = ((-0.079,0.038,0.362,0.373,0.648,-0.561,-0.355),
                        (-0.046,-0.016,0.360,0.335,0.669,-0.583,-0.315),
                        (-0.102,0.042,0.296,0.535,0.574,-0.413,-0.462),
                        (-0.098,-0.017,0.291,0.509,0.601,-0.444,-0.427),
                        (-0.099,0.046,0.388,-0.431,-0.346,0.624,0.553),
                        (-0.094,-0.016,0.396,-0.392,-0.380,0.649,0.530),
                        (-0.082,-0.077,0.401,-0.350,-0.412,0.673,0.506),
                        (-0.111,0.042,0.417,-0.406,-0.299,0.655,0.562),
                        (-0.093,-0.081,0.434,-0.321,-0.367,0.701,0.521),
                        (-0.002,-0.047,0.515,-0.259,-0.272,0.749,0.546))

    response = None

    if len(sys.argv)>1 and sys.argv[1] == '-l':
        response = requests.post('http://127.0.0.1:8000/calc', data=json.dumps({'Qee':Qee, 'Qmarker':QMarker}))
    else:
        response = requests.post('http://park-martin-calibrate.herokuapp.com/calc', data=json.dumps({'Qee':Qee, 'Qmarker':QMarker}))

    responseObj = json.loads(response.text)
    print responseObj['Rx']
    print responseObj['t']
